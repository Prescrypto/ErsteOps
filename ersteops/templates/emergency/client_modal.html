<!-- Modal -->
{% load widget_tweaks %}
<modal
  ref="modal"
  name="incident-modal"
  resizable
  scrollable
  width="75%"
  height="auto"
  @opened="open"
  @closed="destroy">

  <div>
    <div class="c-tabs">
      <nav class="c-tabs__list nav nav-tabs" id="modal-nav" role="tablist">
        <a
          v-for="{label, name} in tabs"
          v-on:click="toggle"
          :id="`nav-${name}-tab`"
          :href="`#nav-${name}`"
          class="c-tabs__link"
          :data-name="name"
          data-toggle="tab"
          role="tab"
          :aria-controls="`nav-${name}`">
            <% label %>
        </a>
        <div v-if="active !== 'search'" class="modal-buttons">
          <button
            @click="toggleActive"
            :class="{'c-btn': true, 'c-btn--success': !emergency.is_active, 'c-btn--danger': emergency.is_active}">
              <span v-if="emergency.is_active">Desactivar</span>
              <span v-else>Activar</span>
          </button>
          <button
            @click="submit"
            class="c-btn c-btn--info">
              Guardar Emergencia
          </button>
        </div>
      </nav>

      <div class="c-tabs__content tab-content" id="nav-tabContent">
        <!-- Search TAB -->
        <div class="c-tabs__pane active" id="nav-search" role="tabpanel" aria-labelledby="nav-search-tab">
          <search />
        </div><!-- End Search TAB -->

        <!-- Patient TAB -->
        <div class="c-tabs__pane" id="nav-patient" role="tabpanel" aria-labelledby="nav-patient-tab">
          <patient />
        </div><!-- End Patient TAB -->

        <!-- Address TAB -->
        <div class="c-tabs__pane" id="nav-address" role="tabpanel" aria-labelledby="nav-address-tab">
          <addresses />
        </div><!-- End Address TAB -->

        <div class="c-tabs__pane" id="nav-units" role="tabpanel" aria-labelledby="nav-units-tab">
          <table>
            <tbody>
            <tr>
              <td><label for="id_unit">Unidad:</label></td>
              <td><select name="unit" id="id_unit" class="c-input" multiple="multiple">
                </select></td>
            </tr>
            <tr>
              <td><label for="id_is_active">Es activa:</label></td>
              <td>
                  <div class="col-md-12">
                    <div class="c-field">
                        <div class="c-select">
                            <select id="id_is_active" name="is_active">
                                <option value="1">Desconocido</option>
                                <option value="2">SÃ­</option>
                                <option value="3">No</option>
                            </select>
                        </div>
                    </div>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
        </div><!-- End Unit TAB -->
      </div>
    </div>
  </div>
</modal>
